{"version":3,"sources":["General.js","Billboard.js","utils/abi.js","utils/blockAccess.js","Buy.js","App.js","reportWebVitals.js","index.js"],"names":["accountDisplay","account","length","substring","Billboard","props","useState","fontSize","setFontSize","hasMetamask","setHasMetamask","localStorage","getItem","setAccount","setUserId","setSigner","setChain","message","disconnect","useCallback","removeItem","connectUser","a","console","log","supportedChains","window","ethereum","request","method","accounts","acnt","ethers","utils","getAddress","setItem","provider","providers","Web3Provider","signer","getSigner","chainId","error","useEffect","isMetaMask","on","location","reload","len","id","className","style","onClick","price","href","process","publisher","target","rel","publisherDisplay","abi","anonymous","inputs","indexed","internalType","name","type","outputs","stateMutability","getContract","chain","chains","mainnet","address","infuraName","rinkeby","InfuraProvider","Contract","getInfo","readContract","num","formatEther","toString","roundUp","subsrubeToNewMessage","cb","publishMessege","messege","value","connect","setMessage","response","hash","precision","Math","pow","ceil","Buy","tx","setTx","setmMessage","newPrice","setNewPrice","showAdvance","setShowAdvance","STEP","suggested","round","setTxPending","submit","e","preventDefault","parseEther","res","onSubmit","rows","placeholder","onChange","maxLength","required","onInput","parentNode","dataset","replicatedValue","step","min","defaultValue","newVal","parseFloat","isNaN","App","setPrice","setPublisher","txPending","txDone","setTxDone","userId","showMore","setShowMore","includes","replace","appendScript","scriptToAppend","script","document","createElement","src","async","body","appendChild","setVars","msg","pri","pub","fetchData","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"qQAAO,SAASA,EAAeC,GAC7B,GAAIA,GAAWA,EAAQC,OAAS,GAC9B,MAAM,GAAN,OAAUD,EAAQE,UAAU,EAAG,GAA/B,cAAuCF,EAAQE,UAAU,K,mBC6J9CC,MA3Jf,SAAmBC,GACjB,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAsCF,oBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAA8BJ,mBAASK,aAAaC,QAAQ,YAA5D,mBAAOX,EAAP,KAAgBY,EAAhB,KACQC,EAA4CT,EAA5CS,UAAWC,EAAiCV,EAAjCU,UAAWC,EAAsBX,EAAtBW,SAAUC,EAAYZ,EAAZY,QAElCC,EAAaC,uBAAY,WAC7BN,EAAW,MACXC,EAAU,MACVH,aAAaS,WAAW,aACvB,CAACN,IAEEO,EAAcF,sBAAW,sBAAC,0CAAAG,EAAA,6DAC9BC,QAAQC,IAAI,eACNC,EAAkB,CACtB,MAAO,UACP,MAAO,WAJqB,EAOTC,OAAbC,EAPsB,EAOtBA,SAPsB,kBAULA,EAASC,QAAQ,CACtCC,OAAQ,wBAXkB,YAUtBC,EAVsB,QAaf,GAbe,wBAcpBC,EAAOC,IAAOC,MAAMC,WAAWJ,EAAS,IAC9CjB,EAAWkB,GACXjB,EAAUiB,GACVpB,aAAawB,QAAQ,UAAWJ,GAE1BK,EAAW,IAAIJ,IAAOK,UAAUC,aAAaZ,OAAOC,UACpDY,EAASH,EAASI,YACxBzB,EAAUwB,GArBgB,UAsBJZ,EAASC,QAAQ,CAAEC,OAAQ,gBAtBvB,QAsBpBY,EAtBoB,OAuB1BzB,EAASS,EAAgBgB,IAvBC,wBAwBrBvB,IAxBqB,0DA0B5BK,QAAQmB,MAAM,mBAAd,MACAxB,IA3B4B,0DA6B7B,CAACA,EAAYJ,EAAWC,EAAWC,IAiDtC,OA/CA2B,qBAAU,WACR,IAAQhB,EAAaD,OAAbC,SACRjB,EAAeiB,GAAYA,EAASiB,YAEhCnC,IACFkB,EAASkB,GAAG,mBAAmB,SAACf,GAC9BP,QAAQC,IAAI,kBAAmBM,GAC3BA,EAAS5B,OAAQmB,IAChBH,OAEPS,EAASkB,GAAG,cAAc,WACxBtB,QAAQC,IAAI,cACZN,OAEFS,EAASkB,GAAG,gBAAgB,SAACJ,GAC3BlB,QAAQC,IAAI,eAAgBiB,GAC5Bf,OAAOoB,SAASC,YAGd9C,GAASoB,OAId,CAACZ,EAAaY,EAAaH,EAAYjB,IAE1C0C,qBAAU,WACR,IAAMK,EAAM/B,EAAUA,EAAQf,OAAS,IACxBM,EAAXwC,EAAM,IAAiB,GAClBA,EAAM,IAAiB,GACvBA,EAAM,IAAiB,GACvBA,EAAM,IAAiB,GACvBA,EAAM,IAAiB,GACvBA,EAAM,GAAgB,GACtBA,EAAM,GAAgB,GACtBA,EAAM,GAAgB,GACtBA,EAAM,EAAe,IACrBA,EAAM,EAAe,IACb,OAChB,CAAC/B,IAUF,sBAAKgC,GAAG,YAAR,UACE,sBAAKA,GAAG,MAAR,UACE,qBAAKC,UAAU,kBACf,qBAAKA,UAAU,kBACf,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,eAGA,qBAAKD,GAAG,QAAQC,UAAU,QAA1B,kBAIF,qBAAKD,GAAG,YAAYE,MAAO,CAAE5C,SAAS,GAAD,OAAKA,EAAL,OAArC,SACGF,EAAMY,UAGT,sBAAKgC,GAAG,SAAR,UACE,qBAAKA,GAAG,SAASC,UAAU,UAC3B,qBAAKD,GAAG,SAASC,UAAU,aAG7B,qBAAKD,GAAG,SAER,sBAAKA,GAAG,aAAR,UACE,qBAAKC,UAAU,aAAf,kBACCzC,GAAeR,EACZ,aAAeD,EAAeC,GAC9BQ,GACE,wBAAQ2C,QAAS,kBAAM/B,KAAvB,6BAEJZ,GAAe,2BACjB,qBAAKyC,UAAU,aAAf,qBAGF,sBAAKD,GAAG,OAAR,wBACS5C,EAAMgD,MADf,WAEE,mBACEC,KAAI,kBAAaC,GAAb,gCAAqElD,EAAMmD,WAC/EC,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,SA1DN,WACE,GAAI7C,EAAMmD,UACR,MAAM,GAAN,OAAUnD,EAAMmD,UAAUrD,UAAU,EAAG,GAAvC,aAA8CE,EAAMmD,UAAUrD,UAC5D,KA6DGwD,QAGL,qBAAKV,GAAG,aCgcCW,EA1lBH,CACV,CACEC,WAAW,EACXC,OAAQ,CACN,CACEC,SAAS,EACTC,aAAc,UACdC,KAAM,QACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,WACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,WACNC,KAAM,SAER,CACEL,WAAW,EACXC,OAAQ,CACN,CACEC,SAAS,EACTC,aAAc,UACdC,KAAM,QACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,WACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,OACdC,KAAM,WACNC,KAAM,SAGVD,KAAM,iBACNC,KAAM,SAER,CACEL,WAAW,EACXC,OAAQ,CACN,CACEC,SAAS,EACTC,aAAc,SACdC,KAAM,UACNC,KAAM,UAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,QACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,YACNC,KAAM,YAGVD,KAAM,aACNC,KAAM,SAER,CACEL,WAAW,EACXC,OAAQ,CACN,CACEC,SAAS,EACTC,aAAc,UACdC,KAAM,gBACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,WACNC,KAAM,YAGVD,KAAM,uBACNC,KAAM,SAER,CACEL,WAAW,EACXC,OAAQ,CACN,CACEC,SAAS,EACTC,aAAc,UACdC,KAAM,OACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,KACNC,KAAM,WAER,CACEH,SAAS,EACTC,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,WACNC,KAAM,SAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,KACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,UACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,KACNC,KAAM,YAGVD,KAAM,cACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,oBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,OACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,KACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,mBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,OACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,KACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,UACNC,KAAM,WAER,CACEF,aAAc,QACdC,KAAM,QACNC,KAAM,UAGVD,KAAM,mBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,WACNC,KAAM,WAER,CACEF,aAAc,OACdC,KAAM,WACNC,KAAM,SAGVD,KAAM,oBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,SACdC,KAAM,UACNC,KAAM,WAGVD,KAAM,aACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,SACdC,KAAM,qBACNC,KAAM,WAGVD,KAAM,iBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,SACdC,KAAM,aACNC,KAAM,WAGVD,KAAM,aACNE,QAAS,GACTC,gBAAiB,UACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,OACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,KACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,eACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,WACNC,KAAM,YAGVD,KAAM,oBACNE,QAAS,GACTC,gBAAiB,aACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,cACNE,QAAS,GACTC,gBAAiB,UACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,aACNC,KAAM,WAER,CACEF,aAAc,SACdC,KAAM,eACNC,KAAM,UAER,CACEF,aAAc,SACdC,KAAM,UACNC,KAAM,UAER,CACEF,aAAc,SACdC,KAAM,qBACNC,KAAM,WAGVE,gBAAiB,aACjBF,KAAM,eAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,QACNC,KAAM,YAGVD,KAAM,YACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,cACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,WAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,cACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,UACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,UAER,CACEF,aAAc,UACdC,KAAM,GACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,QACNC,KAAM,WAER,CACEF,aAAc,UACdC,KAAM,WACNC,KAAM,YAGVD,KAAM,mBACNE,QAAS,CACP,CACEH,aAAc,OACdC,KAAM,GACNC,KAAM,SAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,UACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,WAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,OACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,WAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,QACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,UACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,QACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,YACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,SACdC,KAAM,cACNC,KAAM,WAGVD,KAAM,oBACNE,QAAS,CACP,CACEH,aAAc,OACdC,KAAM,GACNC,KAAM,SAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,SACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,WAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,CACN,CACEE,aAAc,UACdC,KAAM,UACNC,KAAM,YAGVD,KAAM,WACNE,QAAS,CACP,CACEH,aAAc,SACdC,KAAM,GACNC,KAAM,WAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,gBACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,YAER,CACEJ,OAAQ,GACRG,KAAM,YACNE,QAAS,CACP,CACEH,aAAc,UACdC,KAAM,GACNC,KAAM,YAGVE,gBAAiB,OACjBF,KAAM,aCnlBJG,EAAc,SAACC,GACnB/C,QAAQC,IAAI,QAAS8C,GACrB,IAAMC,EAAS,CACbC,QAAS,CACPC,QAASlB,6CACTmB,WAAY,WAEdC,QAAS,CACPF,QAASlB,6CACTmB,WAAY,YAIVtC,EAAW,IAAIJ,IAAOK,UAAUuC,eACpCL,EAAOD,GAAOI,WACdnB,oCAEF,OAAO,IAAIvB,IAAO6C,SAASN,EAAOD,GAAOG,QAASb,EAAKxB,IAGlD,SAAe0C,EAAtB,kC,4CAAO,WAAuBR,GAAvB,2BAAAhD,EAAA,6DACCyD,EAAeV,EAAYC,GAD5B,SAEqCS,EAAaD,UAFlD,0CAEE7D,EAFF,KAEWoC,EAFX,KAEkBG,EAFlB,KAGCwB,EAAMhD,IAAOC,MAAMgD,YAAY5B,EAAM6B,YAHtC,kBAIE,CAACjE,EAASkE,EAAQH,EAAK,GAAIxB,IAJ7B,6C,sBAOA,SAAS4B,EAAqBd,EAAOe,GACrBhB,EAAYC,GACpBzB,GAAG,cAAc,SAAC5B,EAASoC,EAAOG,GAC7CjC,QAAQC,IAAI,aAAcP,EAASoC,EAAOG,GAC1C,IAAMwB,EAAMhD,IAAOC,MAAMgD,YAAY5B,EAAM6B,YAC3CG,EAAGpE,EAASkE,EAAQH,EAAK,GAAIxB,MAI1B,SAAe8B,EAAtB,wC,4CAAO,WAA8BhB,EAAO/B,EAAQgD,EAASC,GAAtD,iBAAAlE,EAAA,6DACCyD,EAAeV,EAAYC,GAD5B,kBAGoBS,EACpBU,QAAQlD,GACRmD,WAAWH,EAAS,CAAEC,UALtB,cAGGG,EAHH,yBAMIA,EAASC,MANb,uCAQHrE,QAAQC,IAAR,MARG,kBASI,MATJ,0D,sBAaP,SAAS2D,EAAQH,EAAKa,GAEpB,OADAA,EAAYC,KAAKC,IAAI,GAAIF,GAClBC,KAAKE,KAAKhB,EAAMa,GAAaA,EClDvB,SAASI,EAAI5F,GAC1B,MAAoBC,qBAApB,mBAAO4F,EAAP,KAAWC,EAAX,KACA,EAA+B7F,qBAA/B,mBAAOW,EAAP,KAAgBmF,EAAhB,KACA,EAAgC9F,qBAAhC,mBAAO+F,EAAP,KAAiBC,EAAjB,KACA,EAAsChG,oBAAS,GAA/C,mBAAOiG,EAAP,KAAoBC,EAApB,KACMC,EAAO,IAELnC,EAAUjE,EAAViE,MAER3B,qBAAU,WACR,GAAItC,EAAMgD,MAAO,CACf,IAAMqD,EAAYrG,EAAMgD,MAAQoD,EAChCH,EAAYK,EAAMD,OAEnB,CAACrG,EAAMgD,MAAOhD,EAAMuG,eAEvB,IAAMC,EAAM,uCAAG,WAAOC,GAAP,eAAAxF,EAAA,yDACbwF,EAAEC,kBACE1G,EAAMkC,OAFG,gCAGO+C,EAChBhB,EACAjE,EAAMkC,OACNtB,EACAe,IAAOC,MAAM+E,WAAWX,EAASnB,YAAYA,YAPpC,QAGL+B,EAHK,UAUTd,EAAMc,GACN5G,EAAMuG,cAAa,IAXV,2CAAH,sDAsBZ,SAASD,EAAM3B,GACb,OAAOc,KAAKa,MAAY,IAAN3B,GAAa,IAGjC,OAAuB,IAAhB3E,EAAMgD,OAAiBhD,EAAMgD,MAClC,sBAAKJ,GAAG,MAAR,UACE,oDACCiD,EACC,sBAAKjD,GAAG,cAAR,UACE,mBACEK,KAAI,kBAAaC,GAAb,2BAAgE2C,GACpEzC,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,yBAOK,IARP,cASa,qBAAKA,UAAU,cAG5B,uBAAMgE,SAAUL,EAAhB,UACE,qBAAK5D,GAAG,gBAAR,SACE,uBACEiB,KAAK,SACLhB,UAAU,eACVE,QAAS,kBAAMoD,GAAgBD,IAC/Bf,MAAOe,EAAc,QAAU,eAGnC,qBAAKrD,UAAU,UACf,qBAAKA,UAAU,YAAf,SACE,0BACE,oBAAkB,QAClBD,GAAG,aACHkE,KAAK,IACLC,YAAY,uBACZ5B,MAAOvE,EACPoG,SAAU,SAACP,GAAD,OAAOV,EAAYU,EAAErD,OAAO+B,QACtC8B,UAAU,OACVC,UAAQ,EACRtD,KAAK,UACLuD,QAAS,SAACV,GAAD,OACNA,EAAErD,OAAOgE,WAAWC,QAAQC,gBAAkBb,EAAErD,OAAO+B,WAI7De,GACC,sBAAKtD,GAAG,oBAAR,8BAEE,uBACEiB,KAAK,SACL0D,KAAMnB,EACNoB,IAAKlB,EAAMtG,EAAMgD,MAAQoD,GACzBqB,aAAczB,EACdgB,SA5DK,SAACP,GAClB,IAAMiB,EAASC,WAAWlB,EAAErD,OAAO+B,OAC/ByC,MAAMF,IAAWA,GAAU1H,EAAMgD,OACrCiD,EAAYyB,MA2DF,sBAAK9E,GAAG,MAAR,gDACiC5C,EAAMgD,MADvC,IAEE,uBAFF,gFAQJ,8BACE,uBACEJ,GAAG,SACHiB,KAAK,SACLsB,MAAK,4BAAkBa,aAOjC,GCqKW6B,MApRf,WACE,MAA8B5H,qBAA9B,mBAAOW,EAAP,KAAgByE,EAAhB,KACA,EAA0BpF,qBAA1B,mBAAO+C,EAAP,KAAc8E,EAAd,KACA,EAAkC7H,qBAAlC,mBAAOkD,EAAP,KAAkB4E,EAAlB,KACA,EAA4B9H,qBAA5B,mBAAOiC,EAAP,KAAexB,EAAf,KACA,EAAkCT,oBAAS,GAA3C,mBAAO+H,EAAP,KAAkBzB,EAAlB,KACA,EAA4BtG,oBAAS,GAArC,mBAAOgI,EAAP,KAAeC,EAAf,KACA,EAA0BjI,mBAAS,WAAnC,mBAAOgE,EAAP,KAActD,EAAd,KACA,EAA4BV,qBAA5B,mBAAOkI,EAAP,KAAe1H,EAAf,KACA,EAAgCR,oBAAS,GAAzC,mBAAOmI,EAAP,KAAiBC,EAAjB,KAoPA,OAlPA/F,qBAAU,WAEJjB,OAAOoB,SAASQ,KAAKqF,SAAS,UAChCjH,OAAOoB,SAAS8F,QAAQ,kBAGxB,IAAMC,EAAe,SAACC,GACpB,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAMJ,EACbC,EAAOI,OAAQ,EACfH,SAASI,KAAKC,YAAYN,IAG5BF,EAAa,6DACbA,EAAsC,YAEvC,IAEHlG,qBAAU,WAAM,4CACd,sCAAArB,EAAA,6DACQgI,EAAU,SAACC,EAAKC,EAAKC,GACzB/D,EAAW6D,GACXpB,EAASqB,GACTpB,EAAaqB,IAJjB,SAOgC3E,EAAQR,GAPxC,mCAOSiF,EAPT,KAOcC,EAPd,KAOmBC,EAPnB,KAQEH,EAAQC,EAAKC,EAAKC,GAElBrE,EAAqBd,GAAO,SAACiF,EAAKC,EAAKC,GACrCH,EAAQC,EAAKC,EAAKC,GACdpB,GAAWE,GAAU,MAZ7B,6CADc,sBAgBVjE,GAhBW,WAAD,wBAgBHoF,CAAUpF,KACpB,CAAC+D,EAAW/D,IAgNb,sBAAKpB,UAAU,MAAf,UACE,kDACA,qBAAKD,GAAG,UAAR,sEAGW,YAAVqB,GACC,sBAAKrB,GAAG,QAAR,eACKqB,GAAgB,+CADrB,QAlNF,8BACGA,GACC,cAAC,EAAD,CACEvD,UAAWA,EACXC,SAAUA,EACVC,QAASA,EACTuC,UAAWA,EACXH,MAAOA,EACPvC,UAAWA,MASjB,gCACGwH,GACC,sBAAKrF,GAAG,WAAR,kCACuB,uBADvB,oDAIDuF,IAAWF,GAAUhE,GACpB,cAAC2B,EAAD,CACE5C,MAAOA,EACPd,OAAQA,EACRqE,aAAcA,EACdtC,MAAOA,IAGX,sBAAKrB,GAAG,OAAR,UACE,uFACA,uDACyB,IACvB,mBACEK,KAAI,kBAAaC,GAAb,gCAAqEA,8CACzEL,UAAU,WACVO,OAAO,SACPC,IAAI,aAJN,oBAOK,IATP,qGAaA,mGAEE,uBAFF,8EAKE,uBALF,qFASA,gEACkC,IAChC,mBACED,OAAO,SACPC,IAAI,aACJR,UAAU,WACVI,KAAK,mFAJP,sBAFF,6EAaEmF,GACA,4BACE,wBACEvF,UAAU,eACVE,QAAS,kBAAMsF,GAAaD,IAF9B,0BAQHA,GACC,sBAAKxF,GAAG,OAAR,UACE,uBACA,6DACA,+eAUA,gEACA,qTAOA,wEACA,oGAEM,IACJ,mBACEK,KAAK,sBACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,sBAOK,IAVP,wGAYyC,IACvC,mBACEI,KAAK,uCACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,sBAbF,OAuBA,uDACA,8EACgD,IAC9C,mBACEO,OAAO,SACPC,IAAI,aACJR,UAAU,WACVI,KAAK,mFAJP,sBAFF,oRAgBA,uDACA,uKAGO,IACL,mBACEA,KAAK,8CACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,wBAJF,OAcA,2DACA,mFACqD,IACnD,mBACEI,KAAK,gFACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,kBAFF,IAUG,uBAVH,aAWa,IACX,mBACEI,KAAK,gCACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,qBAZF,iBAoBiB,IACf,mBACEI,KAAK,iCACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,qBArBF,qCA6BqC,IACnC,mBACEI,KAAK,gDACLG,OAAO,SACPC,IAAI,aACJR,UAAU,WAJZ,gCA+BV,qBAAKD,GAAG,SAAR,oGCtQS0G,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtB,SAASuB,eAAe,SAM1BZ,M","file":"static/js/main.52a17579.chunk.js","sourcesContent":["export function accountDisplay(account) {\n  if (account && account.length > 38) {\n    return `${account.substring(0, 6)}...${account.substring(38)}`;\n  }\n}\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { accountDisplay } from \"./General\";\nimport { ethers } from \"ethers\";\n\nfunction Billboard(props) {\n  const [fontSize, setFontSize] = useState(12);\n  const [hasMetamask, setHasMetamask] = useState(false);\n  const [account, setAccount] = useState(localStorage.getItem(\"account\"));\n  const { setUserId, setSigner, setChain, message } = props;\n\n  const disconnect = useCallback(() => {\n    setAccount(null);\n    setUserId(null);\n    localStorage.removeItem(\"account\");\n  }, [setUserId]);\n\n  const connectUser = useCallback(async () => {\n    console.log(\"connectUser\");\n    const supportedChains = {\n      \"0x1\": \"mainnet\",\n      \"0x4\": \"rinkeby\",\n    };\n\n    const { ethereum } = window;\n\n    try {\n      const accounts = await ethereum.request({\n        method: \"eth_requestAccounts\",\n      });\n      if (accounts[0]) {\n        const acnt = ethers.utils.getAddress(accounts[0]);\n        setAccount(acnt);\n        setUserId(acnt);\n        localStorage.setItem(\"account\", acnt);\n\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        setSigner(signer);\n        const chainId = await ethereum.request({ method: \"eth_chainId\" });\n        setChain(supportedChains[chainId]);\n      } else disconnect();\n    } catch (error) {\n      console.error(\"getAccount ERROR\", error);\n      disconnect();\n    }\n  }, [disconnect, setUserId, setSigner, setChain]);\n\n  useEffect(() => {\n    const { ethereum } = window;\n    setHasMetamask(ethereum && ethereum.isMetaMask);\n\n    if (hasMetamask) {\n      ethereum.on(\"accountsChanged\", (accounts) => {\n        console.log(\"accountsChanged\", accounts);\n        if (accounts.length) connectUser();\n        else disconnect();\n      });\n      ethereum.on(\"disconnect\", () => {\n        console.log(\"disconnect\");\n        disconnect();\n      });\n      ethereum.on(\"chainChanged\", (chainId) => {\n        console.log(\"chainChanged\", chainId);\n        window.location.reload();\n      });\n      // update9\n      if (account) connectUser();\n    } else {\n      //no metamask\n    }\n  }, [hasMetamask, connectUser, disconnect, account]);\n\n  useEffect(() => {\n    const len = message ? message.length : 1000;\n    if (len > 800) setFontSize(16);\n    else if (len > 500) setFontSize(20);\n    else if (len > 250) setFontSize(30);\n    else if (len > 190) setFontSize(34);\n    else if (len > 100) setFontSize(40);\n    else if (len > 50) setFontSize(50);\n    else if (len > 20) setFontSize(55);\n    else if (len > 10) setFontSize(60);\n    else if (len > 6) setFontSize(100);\n    else if (len > 3) setFontSize(130);\n    else setFontSize(200);\n  }, [message]);\n\n  function publisherDisplay() {\n    if (props.publisher)\n      return `${props.publisher.substring(0, 6)}..${props.publisher.substring(\n        38\n      )}`;\n  }\n\n  return (\n    <div id=\"container\">\n      <div id=\"sky\">\n        <div className=\"shooting-star\"></div>\n        <div className=\"shooting-star\"></div>\n        <div id=\"star1\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star2\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star3\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star4\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star5\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star6\" className=\"stars\">\n          *\n        </div>\n        <div id=\"star7\" className=\"stars\">\n          *\n        </div>\n      </div>\n      <div id=\"billboard\" style={{ fontSize: `${fontSize}px` }}>\n        {props.message}\n      </div>\n\n      <div id=\"lights\">\n        <div id=\"light1\" className=\"light\"></div>\n        <div id=\"light2\" className=\"light\"></div>\n      </div>\n\n      <div id=\"pole\"></div>\n\n      <div id=\"base-price\">\n        <div className=\"price-pole\">&nbsp;</div>\n        {hasMetamask && account\n          ? \"CONNECTED \" + accountDisplay(account)\n          : hasMetamask && (\n              <button onClick={() => connectUser()}>CONNECT WALLET</button>\n            )}\n        {!hasMetamask && \"Install MetaMask to join\"}\n        <div className=\"price-pole\">&nbsp;</div>\n      </div>\n\n      <div id=\"base\">\n        Paid Ξ{props.price} By &nbsp;\n        <a\n          href={`https://${process.env.REACT_APP_URL_PREFIX}etherscan.io/address/${props.publisher}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"external\"\n        >\n          {publisherDisplay()}\n        </a>\n      </div>\n      <div id=\"road\"></div>\n    </div>\n  );\n}\n\nexport default Billboard;\n","const abi = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"approved\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\",\n      },\n    ],\n    name: \"ApprovalForAll\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"string\",\n        name: \"message\",\n        type: \"string\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"price\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"publisher\",\n        type: \"address\",\n      },\n    ],\n    name: \"NewMessage\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousOwner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnershipTransferred\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"approve\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n    ],\n    name: \"grantNewNFT\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"renounceOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"safeTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"_data\",\n        type: \"bytes\",\n      },\n    ],\n    name: \"safeTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\",\n      },\n    ],\n    name: \"setApprovalForAll\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"baseURI\",\n        type: \"string\",\n      },\n    ],\n    name: \"setBaseURI\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"defaultContractURI\",\n        type: \"string\",\n      },\n    ],\n    name: \"setContractURI\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"newMessage\",\n        type: \"string\",\n      },\n    ],\n    name: \"setMessage\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"transferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"transferOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"withdrawAll\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"startPrice\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"string\",\n        name: \"startMessage\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"baseURI\",\n        type: \"string\",\n      },\n      {\n        internalType: \"string\",\n        name: \"defaultContractURI\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"contractURI\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getApproved\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getInfo\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\",\n      },\n    ],\n    name: \"isApprovedForAll\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"message\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"owner\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ownerOf\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"price\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"publisher\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes4\",\n        name: \"interfaceId\",\n        type: \"bytes4\",\n      },\n    ],\n    name: \"supportsInterface\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"tokenURI\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalMessages\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalPaid\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n];\n\nexport default abi;\n","import { ethers } from \"ethers\";\nimport abi from \"./abi\";\n\nconst getContract = (chain) => {\n  console.log(\"chain\", chain);\n  const chains = {\n    mainnet: {\n      address: process.env.REACT_APP_CONTRACT_MAINNET_ADDRESS,\n      infuraName: \"mainnet\",\n    },\n    rinkeby: {\n      address: process.env.REACT_APP_CONTRACT_RINKEBY_ADDRESS,\n      infuraName: \"rinkeby\",\n    },\n  };\n\n  const provider = new ethers.providers.InfuraProvider(\n    chains[chain].infuraName,\n    process.env.REACT_APP_INFURA_ENDPOINT\n  );\n  return new ethers.Contract(chains[chain].address, abi, provider);\n};\n\nexport async function getInfo(chain) {\n  const readContract = getContract(chain);\n  const [message, price, publisher] = await readContract.getInfo();\n  const num = ethers.utils.formatEther(price.toString());\n  return [message, roundUp(num, 2), publisher];\n}\n\nexport function subsrubeToNewMessage(chain, cb) {\n  const readContract = getContract(chain);\n  readContract.on(\"NewMessage\", (message, price, publisher) => {\n    console.log(\"NewMessage\", message, price, publisher);\n    const num = ethers.utils.formatEther(price.toString());\n    cb(message, roundUp(num, 2), publisher);\n  });\n}\n\nexport async function publishMessege(chain, signer, messege, value) {\n  const readContract = getContract(chain);\n  try {\n    const response = await readContract\n      .connect(signer)\n      .setMessage(messege, { value });\n    return response.hash;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n}\n\nfunction roundUp(num, precision) {\n  precision = Math.pow(10, precision);\n  return Math.ceil(num * precision) / precision;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { publishMessege } from \"./utils/blockAccess\";\n\nexport default function Buy(props) {\n  const [tx, setTx] = useState();\n  const [message, setmMessage] = useState();\n  const [newPrice, setNewPrice] = useState();\n  const [showAdvance, setShowAdvance] = useState(false);\n  const STEP = 0.01;\n\n  const { chain } = props;\n\n  useEffect(() => {\n    if (props.price) {\n      const suggested = props.price + STEP;\n      setNewPrice(round(suggested));\n    }\n  }, [props.price, props.setTxPending]);\n\n  const submit = async (e) => {\n    e.preventDefault();\n    if (props.signer) {\n      const res = await publishMessege(\n        chain,\n        props.signer,\n        message,\n        ethers.utils.parseEther(newPrice.toString()).toString()\n      );\n      if (res) {\n        setTx(res);\n        props.setTxPending(true);\n      }\n    }\n  };\n\n  const checkValue = (e) => {\n    const newVal = parseFloat(e.target.value);\n    if (isNaN(newVal) || newVal <= props.price) return;\n    setNewPrice(newVal);\n  };\n\n  function round(num) {\n    return Math.round(num * 100) / 100;\n  }\n\n  return props.price === 0 || !!props.price ? (\n    <div id=\"buy\">\n      <h2>Override billboard</h2>\n      {tx ? (\n        <div id=\"transaction\">\n          <a\n            href={`https://${process.env.REACT_APP_URL_PREFIX}etherscan.io/tx/${tx}`}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"external\"\n          >\n            Transaction\n          </a>{\" \"}\n          is pending <div className=\"loader\"></div>\n        </div>\n      ) : (\n        <form onSubmit={submit}>\n          <div id=\"custom-button\">\n            <input\n              type=\"button\"\n              className=\"naked-button\"\n              onClick={() => setShowAdvance(!showAdvance)}\n              value={showAdvance ? \"basic\" : \"settings\"}\n            />\n          </div>\n          <div className=\"clear\"></div>\n          <div className=\"grow-wrap\">\n            <textarea\n              data-gramm_editor=\"false\"\n              id=\"newMessage\"\n              rows=\"1\"\n              placeholder=\"Type your message...\"\n              value={message}\n              onChange={(e) => setmMessage(e.target.value)}\n              maxLength=\"1000\"\n              required\n              name=\"message\"\n              onInput={(e) =>\n                (e.target.parentNode.dataset.replicatedValue = e.target.value)\n              }\n            ></textarea>\n          </div>\n          {showAdvance && (\n            <div id=\"advance-setttings\">\n              Set custom price:\n              <input\n                type=\"number\"\n                step={STEP}\n                min={round(props.price + STEP)}\n                defaultValue={newPrice}\n                onChange={checkValue}\n              ></input>\n              <div id=\"tip\">\n                Price has to be greater than Ξ{props.price}.\n                <br />\n                The heigher you set the price - the harder is to override your\n                message.\n              </div>\n            </div>\n          )}\n          <div>\n            <input\n              id=\"submit\"\n              type=\"submit\"\n              value={`Publish for Ξ${newPrice}`}\n            />\n          </div>\n        </form>\n      )}\n    </div>\n  ) : (\n    \"\"\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Billboard from \"./Billboard\";\nimport Buy from \"./Buy\";\nimport { subsrubeToNewMessage, getInfo } from \"./utils/blockAccess\";\n\nfunction App() {\n  const [message, setMessage] = useState();\n  const [price, setPrice] = useState();\n  const [publisher, setPublisher] = useState();\n  const [signer, setSigner] = useState();\n  const [txPending, setTxPending] = useState(false);\n  const [txDone, setTxDone] = useState(false);\n  const [chain, setChain] = useState(\"mainnet\");\n  const [userId, setUserId] = useState();\n  const [showMore, setShowMore] = useState(false);\n\n  useEffect(() => {\n    //redirect NFTs\n    if (window.location.href.includes(\"/NFT/\"))\n      window.location.replace(\"/NFT/BLBD.json\");\n\n    if (process.env.NODE_ENV === \"production\") {\n      const appendScript = (scriptToAppend) => {\n        const script = document.createElement(\"script\");\n        script.src = scriptToAppend;\n        script.async = true;\n        document.body.appendChild(script);\n      };\n\n      appendScript('https://www.googletagmanager.com/gtag/js?id=G-6WS15T0K6D\"');\n      appendScript(process.env.PUBLIC_URL + \"/FS.js\");\n    }\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      const setVars = (msg, pri, pub) => {\n        setMessage(msg);\n        setPrice(pri);\n        setPublisher(pub);\n      };\n\n      const [msg, pri, pub] = await getInfo(chain);\n      setVars(msg, pri, pub);\n\n      subsrubeToNewMessage(chain, (msg, pri, pub) => {\n        setVars(msg, pri, pub);\n        if (txPending) setTxDone(true);\n      });\n    }\n    if (chain) fetchData(chain);\n  }, [txPending, chain]);\n\n  const showHP = () => {\n    return (\n      <div>\n        {chain && (\n          <Billboard\n            setSigner={setSigner}\n            setChain={setChain}\n            message={message}\n            publisher={publisher}\n            price={price}\n            setUserId={setUserId}\n          />\n        )}\n      </div>\n    );\n  };\n\n  const showBuy = () => {\n    return (\n      <div>\n        {txDone && (\n          <div id=\"complete\">\n            Transaction is done. <br /> Your message is on the billboard 🎉\n          </div>\n        )}\n        {userId && !txDone && chain && (\n          <Buy\n            price={price}\n            signer={signer}\n            setTxPending={setTxPending}\n            chain={chain}\n          />\n        )}\n        <div id=\"info\">\n          <p>Crypto Billboard is a decentralized social experiment.</p>\n          <p>\n            The billboard above is{\" \"}\n            <a\n              href={`https://${process.env.REACT_APP_URL_PREFIX}etherscan.io/address/${process.env.REACT_APP_CONTRACT_MAINNET_ADDRESS}`}\n              className=\"external\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              stored\n            </a>{\" \"}\n            on the Ethereum blockchain. The message is censorship-resistant and\n            available to everyone 24/7.\n          </p>\n          <p>\n            The billboard enables everyone to publish their own message on it.\n            <br />\n            The message stays forever on the billboard unless overrode by\n            someone else.\n            <br />\n            The publishing price only goes up and must be greater than the last\n            price paid.\n          </p>\n          <p>\n            Publishers are awarded a unique{\" \"}\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"external\"\n              href=\"https://gateway.pinata.cloud/ipfs/QmNgowFAHNHDBqKmRtL327nUvEFSCpnz4T2sgLoBGttdgz\"\n            >\n              BLBD NFT\n            </a>\n            . The number of BLBD NFTs is capped by the number of total\n            publishers.\n          </p>\n          {!showMore && (\n            <p>\n              <button\n                className=\"naked-button\"\n                onClick={() => setShowMore(!showMore)}\n              >\n                Learn more\n              </button>\n            </p>\n          )}\n          {showMore && (\n            <div id=\"more\">\n              <hr />\n              <p>Q: What is Crypto Billboard?</p>\n              <p>\n                A: Crypto Billboard is a social experiment backed by the\n                blockchain. Traditional media companies decide what to publish\n                and control who can see the content. This billboard democratizes\n                publishing. No matter if it's an advise, a joke, or a marriage\n                proposal - anyone can publish their own content on this\n                billboard. The billboard automatically updates every time\n                there's a new content. Becase the message is on the blockchain -\n                no one can take it down or edit it.\n              </p>\n              <p>Q: How do I publish my message?</p>\n              <p>\n                To publish a message you can choose any Ether amount greater\n                than the current base price. The base price is the price last\n                paid to publish. Your price then becomes the new base price for\n                others. The higher you set the base price the harder it will be\n                to override your message.\n              </p>\n              <p>Q: How do I connect to Ethereum wallet?</p>\n              <p>\n                A: The easiest way to connect to the Ethereum mainnet is to use\n                the{\" \"}\n                <a\n                  href=\"https://metamask.io\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  MetaMask\n                </a>{\" \"}\n                plugin for your browser. To have Ether in your wallet you will\n                need to buy some from an exchange like{\" \"}\n                <a\n                  href=\"https://www.coinbase.com/join/ofek_q\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  Coinbase\n                </a>\n                .\n              </p>\n              <p>Q: What about the NFT?</p>\n              <p>\n                Q: When you purchase a message you also get a{\" \"}\n                <a\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                  href=\"https://gateway.pinata.cloud/ipfs/QmNgowFAHNHDBqKmRtL327nUvEFSCpnz4T2sgLoBGttdgz\"\n                >\n                  BLBD NFT\n                </a>\n                . This NFT is credited to you and you are welcome to transfer or\n                sell it at any time. While there is no actual value to the NFT,\n                only people who publish a message get it. Because the price\n                always goes up, the sooner you publish a message the cheaper you\n                pay for the NFT.\n              </p>\n              <p>Q: Why should I do it?</p>\n              <p>\n                Do you have a message to the world? Do you want to be part of an\n                exclusive group? Do you want to own a BLBD NFT? If the answer is\n                yes,{\" \"}\n                <a\n                  href=\"https://www.youtube.com/watch?v=ZXsQAXx_ao0\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  just do it\n                </a>\n                .\n              </p>\n              <p>Where I can find out more?</p>\n              <p>\n                You can read the motivation behind this experiment{\" \"}\n                <a\n                  href=\"https://sagivo.com/startup/crypto/publishing/2021/08/27/Crypto-Billboard.html\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  here\n                </a>\n                .<br />\n                Join us on{\" \"}\n                <a\n                  href=\"https://discord.gg/sTgSC95acY\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  Discord\n                </a>\n                , follow us on{\" \"}\n                <a\n                  href=\"https://twitter.com/CryptoBLBD\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  Twitter\n                </a>\n                , or check our open-source code in{\" \"}\n                <a\n                  href=\"https://github.com/puffygeek/crypto-billboard\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"external\"\n                >\n                  GitHub\n                </a>\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>CRYPTO BILLBOARD</h1>\n      <div id=\"tagline\">\n        Post your message and be part of the blockchain history!\n      </div>\n      {chain !== \"mainnet\" && (\n        <div id=\"chain\">\n          - {chain ? chain : \"Usupported network. Please switch to mainnet\"} -\n        </div>\n      )}\n\n      {showHP()}\n      {showBuy()}\n\n      <div id=\"footer\">\n        Make history - publish your message on the billboard. Empowered by the\n        blockchain.\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}