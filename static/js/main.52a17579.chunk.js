(this["webpackJsonpbanner-web"]=this["webpackJsonpbanner-web"]||[]).push([[0],{42:function(e,t,n){},44:function(e,t,n){},47:function(e,t){},57:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),r=n(32),i=n.n(r),o=(n(42),n(2)),c=n.n(o),u=n(15),l=n(8);n(44);function p(e){if(e&&e.length>38)return"".concat(e.substring(0,6),"...").concat(e.substring(38))}var d=n(14),b=n(5);var y=function(e){var t=Object(a.useState)(12),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),y=o[0],h=o[1],m=Object(a.useState)(localStorage.getItem("account")),j=Object(l.a)(m,2),f=j[0],g=j[1],O=e.setUserId,x=e.setSigner,v=e.setChain,w=e.message,T=Object(a.useCallback)((function(){g(null),O(null),localStorage.removeItem("account")}),[O]),k=Object(a.useCallback)(Object(u.a)(c.a.mark((function e(){var t,n,a,s,r,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("connectUser"),t={"0x1":"mainnet","0x4":"rinkeby"},n=window,a=n.ethereum,e.prev=3,e.next=6,a.request({method:"eth_requestAccounts"});case 6:if(!(s=e.sent)[0]){e.next=21;break}return r=d.a.utils.getAddress(s[0]),g(r),O(r),localStorage.setItem("account",r),i=new d.a.providers.Web3Provider(window.ethereum),o=i.getSigner(),x(o),e.next=17,a.request({method:"eth_chainId"});case 17:u=e.sent,v(t[u]),e.next=22;break;case 21:T();case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error("getAccount ERROR",e.t0),T();case 28:case"end":return e.stop()}}),e,null,[[3,24]])}))),[T,O,x,v]);return Object(a.useEffect)((function(){var e=window.ethereum;h(e&&e.isMetaMask),y&&(e.on("accountsChanged",(function(e){console.log("accountsChanged",e),e.length?k():T()})),e.on("disconnect",(function(){console.log("disconnect"),T()})),e.on("chainChanged",(function(e){console.log("chainChanged",e),window.location.reload()})),f&&k())}),[y,k,T,f]),Object(a.useEffect)((function(){var e=w?w.length:1e3;r(e>800?16:e>500?20:e>250?30:e>190?34:e>100?40:e>50?50:e>20?55:e>10?60:e>6?100:e>3?130:200)}),[w]),Object(b.jsxs)("div",{id:"container",children:[Object(b.jsxs)("div",{id:"sky",children:[Object(b.jsx)("div",{className:"shooting-star"}),Object(b.jsx)("div",{className:"shooting-star"}),Object(b.jsx)("div",{id:"star1",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star2",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star3",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star4",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star5",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star6",className:"stars",children:"*"}),Object(b.jsx)("div",{id:"star7",className:"stars",children:"*"})]}),Object(b.jsx)("div",{id:"billboard",style:{fontSize:"".concat(s,"px")},children:e.message}),Object(b.jsxs)("div",{id:"lights",children:[Object(b.jsx)("div",{id:"light1",className:"light"}),Object(b.jsx)("div",{id:"light2",className:"light"})]}),Object(b.jsx)("div",{id:"pole"}),Object(b.jsxs)("div",{id:"base-price",children:[Object(b.jsx)("div",{className:"price-pole",children:"\xa0"}),y&&f?"CONNECTED "+p(f):y&&Object(b.jsx)("button",{onClick:function(){return k()},children:"CONNECT WALLET"}),!y&&"Install MetaMask to join",Object(b.jsx)("div",{className:"price-pole",children:"\xa0"})]}),Object(b.jsxs)("div",{id:"base",children:["Paid \u039e",e.price," By \xa0",Object(b.jsx)("a",{href:"https://".concat("","etherscan.io/address/").concat(e.publisher),target:"_blank",rel:"noreferrer",className:"external",children:function(){if(e.publisher)return"".concat(e.publisher.substring(0,6),"..").concat(e.publisher.substring(38))}()})]}),Object(b.jsx)("div",{id:"road"})]})},h=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"address",name:"publisher",type:"address"}],name:"NewMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"grantNewNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"defaultContractURI",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newMessage",type:"string"}],name:"setMessage",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawAll",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"startPrice",type:"uint256"},{internalType:"string",name:"startMessage",type:"string"},{internalType:"string",name:"baseURI",type:"string"},{internalType:"string",name:"defaultContractURI",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"message",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"publisher",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],m=function(e){console.log("chain",e);var t={mainnet:{address:"0xe4de17c23823b5ed823fbee5049efd889eb95542",infuraName:"mainnet"},rinkeby:{address:"0x9550CAc93B104fe180B1478FeDF5fc7382c1E866",infuraName:"rinkeby"}},n=new d.a.providers.InfuraProvider(t[e].infuraName,"5ac032ada81f40b3808b1c90bacc95ba");return new d.a.Contract(t[e].address,h,n)};function j(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(c.a.mark((function e(t){var n,a,s,r,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m(t),e.next=3,n.getInfo();case 3:return a=e.sent,s=Object(l.a)(a,3),r=s[0],i=s[1],o=s[2],u=d.a.utils.formatEther(i.toString()),e.abrupt("return",[r,v(u,2),o]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){m(e).on("NewMessage",(function(e,n,a){console.log("NewMessage",e,n,a);var s=d.a.utils.formatEther(n.toString());t(e,v(s,2),a)}))}function O(e,t,n,a){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(c.a.mark((function e(t,n,a,s){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(t),e.prev=1,e.next=4,r.connect(n).setMessage(a,{value:s});case 4:return i=e.sent,e.abrupt("return",i.hash);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function v(e,t){return t=Math.pow(10,t),Math.ceil(e*t)/t}function w(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(),o=Object(l.a)(i,2),p=o[0],y=o[1],h=Object(a.useState)(),m=Object(l.a)(h,2),j=m[0],f=m[1],g=Object(a.useState)(!1),x=Object(l.a)(g,2),v=x[0],w=x[1],T=.01,k=e.chain;Object(a.useEffect)((function(){if(e.price){var t=e.price+T;f(M(t))}}),[e.price,e.setTxPending]);var N=function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.signer){t.next=6;break}return t.next=4,O(k,e.signer,p,d.a.utils.parseEther(j.toString()).toString());case 4:(a=t.sent)&&(r(a),e.setTxPending(!0));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function M(e){return Math.round(100*e)/100}return 0===e.price||e.price?Object(b.jsxs)("div",{id:"buy",children:[Object(b.jsx)("h2",{children:"Override billboard"}),s?Object(b.jsxs)("div",{id:"transaction",children:[Object(b.jsx)("a",{href:"https://".concat("","etherscan.io/tx/").concat(s),target:"_blank",rel:"noreferrer",className:"external",children:"Transaction"})," ","is pending ",Object(b.jsx)("div",{className:"loader"})]}):Object(b.jsxs)("form",{onSubmit:N,children:[Object(b.jsx)("div",{id:"custom-button",children:Object(b.jsx)("input",{type:"button",className:"naked-button",onClick:function(){return w(!v)},value:v?"basic":"settings"})}),Object(b.jsx)("div",{className:"clear"}),Object(b.jsx)("div",{className:"grow-wrap",children:Object(b.jsx)("textarea",{"data-gramm_editor":"false",id:"newMessage",rows:"1",placeholder:"Type your message...",value:p,onChange:function(e){return y(e.target.value)},maxLength:"1000",required:!0,name:"message",onInput:function(e){return e.target.parentNode.dataset.replicatedValue=e.target.value}})}),v&&Object(b.jsxs)("div",{id:"advance-setttings",children:["Set custom price:",Object(b.jsx)("input",{type:"number",step:T,min:M(e.price+T),defaultValue:j,onChange:function(t){var n=parseFloat(t.target.value);isNaN(n)||n<=e.price||f(n)}}),Object(b.jsxs)("div",{id:"tip",children:["Price has to be greater than \u039e",e.price,".",Object(b.jsx)("br",{}),"The heigher you set the price - the harder is to override your message."]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"submit",type:"submit",value:"Publish for \u039e".concat(j)})})]})]}):""}var T=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(),i=Object(l.a)(r,2),o=i[0],p=i[1],d=Object(a.useState)(),h=Object(l.a)(d,2),m=h[0],f=h[1],O=Object(a.useState)(),x=Object(l.a)(O,2),v=x[0],T=x[1],k=Object(a.useState)(!1),N=Object(l.a)(k,2),M=N[0],I=N[1],C=Object(a.useState)(!1),S=Object(l.a)(C,2),B=S[0],F=S[1],E=Object(a.useState)("mainnet"),A=Object(l.a)(E,2),D=A[0],L=A[1],_=Object(a.useState)(),P=Object(l.a)(_,2),R=P[0],U=P[1],Q=Object(a.useState)(!1),W=Object(l.a)(Q,2),q=W[0],z=W[1];return Object(a.useEffect)((function(){window.location.href.includes("/NFT/")&&window.location.replace("/NFT/BLBD.json");var e=function(e){var t=document.createElement("script");t.src=e,t.async=!0,document.body.appendChild(t)};e('https://www.googletagmanager.com/gtag/js?id=G-6WS15T0K6D"'),e("/FS.js")}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(c.a.mark((function e(){var t,n,a,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e,t,n){s(e),p(t),f(n)},e.next=3,j(D);case 3:n=e.sent,a=Object(l.a)(n,3),r=a[0],i=a[1],o=a[2],t(r,i,o),g(D,(function(e,n,a){t(e,n,a),M&&F(!0)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}D&&function(){e.apply(this,arguments)}(D)}),[M,D]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("h1",{children:"CRYPTO BILLBOARD"}),Object(b.jsx)("div",{id:"tagline",children:"Post your message and be part of the blockchain history!"}),"mainnet"!==D&&Object(b.jsxs)("div",{id:"chain",children:["- ",D||"Usupported network. Please switch to mainnet"," -"]}),Object(b.jsx)("div",{children:D&&Object(b.jsx)(y,{setSigner:T,setChain:L,message:n,publisher:m,price:o,setUserId:U})}),Object(b.jsxs)("div",{children:[B&&Object(b.jsxs)("div",{id:"complete",children:["Transaction is done. ",Object(b.jsx)("br",{})," Your message is on the billboard \ud83c\udf89"]}),R&&!B&&D&&Object(b.jsx)(w,{price:o,signer:v,setTxPending:I,chain:D}),Object(b.jsxs)("div",{id:"info",children:[Object(b.jsx)("p",{children:"Crypto Billboard is a decentralized social experiment."}),Object(b.jsxs)("p",{children:["The billboard above is"," ",Object(b.jsx)("a",{href:"https://".concat("","etherscan.io/address/").concat("0xe4de17c23823b5ed823fbee5049efd889eb95542"),className:"external",target:"_blank",rel:"noreferrer",children:"stored"})," ","on the Ethereum blockchain. The message is censorship-resistant and available to everyone 24/7."]}),Object(b.jsxs)("p",{children:["The billboard enables everyone to publish their own message on it.",Object(b.jsx)("br",{}),"The message stays forever on the billboard unless overrode by someone else.",Object(b.jsx)("br",{}),"The publishing price only goes up and must be greater than the last price paid."]}),Object(b.jsxs)("p",{children:["Publishers are awarded a unique"," ",Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",className:"external",href:"https://gateway.pinata.cloud/ipfs/QmNgowFAHNHDBqKmRtL327nUvEFSCpnz4T2sgLoBGttdgz",children:"BLBD NFT"}),". The number of BLBD NFTs is capped by the number of total publishers."]}),!q&&Object(b.jsx)("p",{children:Object(b.jsx)("button",{className:"naked-button",onClick:function(){return z(!q)},children:"Learn more"})}),q&&Object(b.jsxs)("div",{id:"more",children:[Object(b.jsx)("hr",{}),Object(b.jsx)("p",{children:"Q: What is Crypto Billboard?"}),Object(b.jsx)("p",{children:"A: Crypto Billboard is a social experiment backed by the blockchain. Traditional media companies decide what to publish and control who can see the content. This billboard democratizes publishing. No matter if it's an advise, a joke, or a marriage proposal - anyone can publish their own content on this billboard. The billboard automatically updates every time there's a new content. Becase the message is on the blockchain - no one can take it down or edit it."}),Object(b.jsx)("p",{children:"Q: How do I publish my message?"}),Object(b.jsx)("p",{children:"To publish a message you can choose any Ether amount greater than the current base price. The base price is the price last paid to publish. Your price then becomes the new base price for others. The higher you set the base price the harder it will be to override your message."}),Object(b.jsx)("p",{children:"Q: How do I connect to Ethereum wallet?"}),Object(b.jsxs)("p",{children:["A: The easiest way to connect to the Ethereum mainnet is to use the"," ",Object(b.jsx)("a",{href:"https://metamask.io",target:"_blank",rel:"noreferrer",className:"external",children:"MetaMask"})," ","plugin for your browser. To have Ether in your wallet you will need to buy some from an exchange like"," ",Object(b.jsx)("a",{href:"https://www.coinbase.com/join/ofek_q",target:"_blank",rel:"noreferrer",className:"external",children:"Coinbase"}),"."]}),Object(b.jsx)("p",{children:"Q: What about the NFT?"}),Object(b.jsxs)("p",{children:["Q: When you purchase a message you also get a"," ",Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",className:"external",href:"https://gateway.pinata.cloud/ipfs/QmNgowFAHNHDBqKmRtL327nUvEFSCpnz4T2sgLoBGttdgz",children:"BLBD NFT"}),". This NFT is credited to you and you are welcome to transfer or sell it at any time. While there is no actual value to the NFT, only people who publish a message get it. Because the price always goes up, the sooner you publish a message the cheaper you pay for the NFT."]}),Object(b.jsx)("p",{children:"Q: Why should I do it?"}),Object(b.jsxs)("p",{children:["Do you have a message to the world? Do you want to be part of an exclusive group? Do you want to own a BLBD NFT? If the answer is yes,"," ",Object(b.jsx)("a",{href:"https://www.youtube.com/watch?v=ZXsQAXx_ao0",target:"_blank",rel:"noreferrer",className:"external",children:"just do it"}),"."]}),Object(b.jsx)("p",{children:"Where I can find out more?"}),Object(b.jsxs)("p",{children:["You can read the motivation behind this experiment"," ",Object(b.jsx)("a",{href:"https://sagivo.com/startup/crypto/publishing/2021/08/27/Crypto-Billboard.html",target:"_blank",rel:"noreferrer",className:"external",children:"here"}),".",Object(b.jsx)("br",{}),"Join us on"," ",Object(b.jsx)("a",{href:"https://discord.gg/sTgSC95acY",target:"_blank",rel:"noreferrer",className:"external",children:"Discord"}),", follow us on"," ",Object(b.jsx)("a",{href:"https://twitter.com/CryptoBLBD",target:"_blank",rel:"noreferrer",className:"external",children:"Twitter"}),", or check our open-source code in"," ",Object(b.jsx)("a",{href:"https://github.com/puffygeek/crypto-billboard",target:"_blank",rel:"noreferrer",className:"external",children:"GitHub"})]})]})]})]}),Object(b.jsx)("div",{id:"footer",children:"Make history - publish your message on the billboard. Empowered by the blockchain."})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root")),k()}},[[57,1,2]]]);
//# sourceMappingURL=main.52a17579.chunk.js.map